<!DOCTYPE html>

<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <script type="text/javascript" src="lib/jquery.min.js"></script>
    <script type="text/javascript" src="lib/osql.js"></script>

    <script>
        osql.requireLogin();

        $(document).ready(function () {
            createstage();
        });

        function createstage() {
            var ctx = document.getElementById('canvas1').getContext('2d');
            ctx.clearRect(0, 0, 600, 600);

            for (var i = 1; i <= 5; i++) {
                ctx.beginPath();
                ctx.moveTo(100 * i, 0);
                ctx.lineTo(100 * i, 600);
                ctx.closePath();
                ctx.stroke();
            }

            for (var i = 1; i <= 5; i++) {
                ctx.beginPath();
                ctx.moveTo(0, 100 * i);
                ctx.lineTo(600, 100 * i);
                ctx.closePath();
                ctx.stroke();
            }

            ctx.font = "50px sans-serif";
            for (var i = 0; i < 5; i++) {
                ctx.fillText(i + 1, 30, 170 + (100 * i), 100);
            }

            alph = ["A", "B", "C", "D", "E"];
            for (var i = 0; i < 5; i++) {
                ctx.fillText(alph[i], 130 + (100 * i), 70, 100);
            }

        }

        document.addEventListener("DOMContentLoaded", function (event) {
            createstage();

            document.getElementById("target").addEventListener("click", function (event) {
                var clickX = event.pageX;
                var clickY = event.pageY;

                // 要素の位置を取得
                var clientRect = this.getBoundingClientRect();
                var positionX = clientRect.left + window.pageXOffset;
                var positionY = clientRect.top + window.pageYOffset;

                // 要素内におけるクリック位置を計算
                var x = clickX - positionX;
                var y = clickY - positionY;
            });
        });

    </script>

</head>

<body>
    <h1>海戦ゲーム</h1>
    <div id="target"></div>
    <hr>
    <canvas id="canvas1" width="600" height="600" style="border: solid 1px;"></canvas>
</body>

</html>